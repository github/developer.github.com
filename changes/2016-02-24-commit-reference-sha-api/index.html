<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>Commit Reference SHA-1 Preview Period | GitHub Developer Guide</title>
  
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  
  <link href="/assets/stylesheets/application.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="/assets/javascripts/application.js" type="text/javascript"></script>
  
</head>


<body class="blog">
  

<div id="header-wrapper">
  <div id="header">
    <div>
      <a class="logo" href="/">GitHub:Developer</a>
      <ul class="nav">
        
        <li><a href="/v3/" class="nav-api">API</a></li>
        <li><a href="/program/" class="nav-developers">Developers</a></li>
        <li><a href="/changes/" class="nav-blog">Blog</a></li>
        <li><a href="https://github.com/contact">Support</a></li>
        <li id="search-container">
          <input type="text" id="searchfield" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><label class="search-placeholder">Search</label>
          <div class="cancel-search"></div>
          <ul id="search-results">

          </ul>
        </li>
      </ul>
    </div>
  </div><!-- #header -->
</div><!-- #header-wrapper -->


  <div id="wrapper">
    <div class="content">
      <div class="change" id="/changes/2016-02-24-commit-reference-sha-api/">
<h2 class="title">
  <a href="/changes/2016-02-24-commit-reference-sha-api/">Commit Reference SHA-1 Preview Period</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    February 24, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/mikemcquaid.png" alt="Avatar for mikemcquaid" data-proofer-ignore/>
      <a href="https://github.com/mikemcquaid" data-proofer-ignore>mikemcquaid</a>
  </li>
</ul>
</div>


<p>We're introducing a new API media type to allow users to get the SHA-1 of a commit reference. This can be useful in working out if you have the latest version of a remote branch based on your local branch's SHA-1. Developers with read access to a repository can start experimenting with this new media type today during the preview period.</p>

<p>To get the commit reference's SHA-1, make a <code>GET</code> request to the repository's reference:</p>

<pre class="command-line">
<span class="command">curl "https://api.github.com/repos/Homebrew/homebrew/commits/master" \</span>
  -H "Accept: application/vnd.github.chitauri-preview+sha"
</pre>

<p>To check if a remote branch's SHA-1 is the same as your local branch's SHA-1, make a <code>GET</code> request to the repository's branch and provide the current SHA-1 for the local branch as the ETag:</p>

<pre class="command-line">
<span class="command">curl "https://api.github.com/repos/Homebrew/homebrew/commits/master" \</span>
  -H "Accept: application/vnd.github.chitauri-preview+sha" \
  -H "If-None-Match: \"814412cfbd631109df337e16c807207e78c0d24e\""
</pre>

<p>If the remote and your local branch point to the same SHA-1 then this call will return a <code>304 Unmodified</code> status code (and not use your rate limit).</p>

<p>You can see an example of this API in a pull request to Homebrew/homebrew's updater: <a href="https://github.com/Homebrew/homebrew/pull/49219">https://github.com/Homebrew/homebrew/pull/49219</a>.</p>

<h4>
<a id="how-can-i-try-it" class="anchor" href="#how-can-i-try-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How can I try it?</h4>

<p>To use this new API media type during the preview period, youâ€™ll need to provide the following custom <a href="/v3/media/">media type</a> in the <code>Accept</code> header:</p>

<pre><code>application/vnd.github.chitauri-preview+sha
</code></pre>

<p>During the preview period, we may change aspects of this API media type based on developer feedback. If we do, we will announce the changes here on the developer blog, but we will not provide any advance notice.</p>

<p>Take a look at <a href="/v3/repos/commits/#get-the-sha-1-of-a-commit-reference">the documentation</a> and, if you have any questions, please <a href="https://github.com/contact?form%5Bsubject%5D=Commit+Reference+SHA-1+Preview">get in touch</a>.</p>
</div>

    </div>

    <div class="sidebar-shell">
        <h2>Recent Posts</h2>
<ul class="headlines sidebar-module">

  <li><a href="/changes/2016-06-14-repository-invitations/">API changes for Repository Invitations<br /><span class="date">June 14, 2016</span></a></li>

  <li><a href="/changes/2016-06-07-reactions-api-update/">Reactions API Preview now includes user information<br /><span class="date">June 7, 2016</span></a></li>

  <li><a href="/changes/2016-5-27-multiple-assignees/">API changes for Multiple Issue Assignees<br /><span class="date">May 27, 2016</span></a></li>

  <li><a href="/changes/2016-05-23-timeline-preview-api/">Preview the Timeline API<br /><span class="date">May 23, 2016</span></a></li>

  <li><a href="/changes/2016-05-12-reactions-api-preview/">Preview support for Reactions API<br /><span class="date">May 12, 2016</span></a></li>

  <li><a href="/changes/2016-05-03-source-import-api-enhancements-for-working-with-git-lfs/">Source Import API enhancements for working with Git LFS<br /><span class="date">May 3, 2016</span></a></li>

  <li><a href="/changes/2016-04-21-oauth-authorizations-grants-api-preview/">Preview support for OAuth authorizations grants API<br /><span class="date">April 21, 2016</span></a></li>

  <li><a href="/changes/2016-04-18-new-webhook-actions-are-live/">New webhook event actions are now live<br /><span class="date">April 18, 2016</span></a></li>

</ul>


        <div class="sidebar-module notice"><a class="rss-subscribe" href="/changes.atom">Subscribe to the RSS feed</a></div>
    </div>
  </div>

    <div id="footer" >
    <div class="lower_footer">
      <ul class="footer-cell">
        <li><a href="https://github.com/github/developer.github.com#licenses">&copy; 2016 GitHub, Inc.</a></li>
        <li><a href="https://help.github.com/terms-of-service/">Terms</a></li>
        <li><a href="https://help.github.com/privacy-policy/">Privacy</a></li>
        <li><a href="https://help.github.com/security/">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
      </ul>

      <span class="footer-cell">
        <a href="https://github.com" class="mega-octicon octicon-mark-github"></a>
      </span>

      <ul class="footer-cell">
        <li><a href="https://status.github.com/">Status</a></li>
        <li><a href="http://training.github.com/">Training</a></li>
        <li><a href="http://shop.github.com/">Shop</a></li>
        <li><a href="https://github.com/blog">Blog</a></li>
        <li><a href="https://github.com/about">About</a></li>
      </ul>
    </div>

  </div><!-- /#footer -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-37', 'github.com');
    ga('send', 'pageview');
  </script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>New webhook event actions are coming | GitHub Developer Guide</title>
  
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  
  <link href="/assets/stylesheets/application.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="/assets/javascripts/application.js" type="text/javascript"></script>
  
</head>


<body class="blog">
  

<div id="header-wrapper">
  <div id="header">
    <div>
      <a class="logo" href="/">GitHub:Developer</a>
      <ul class="nav">
        
        <li><a href="/v3/" class="nav-api">API</a></li>
        <li><a href="/program/" class="nav-developers">Developers</a></li>
        <li><a href="/changes/" class="nav-blog">Blog</a></li>
        <li><a href="https://github.com/contact">Support</a></li>
        <li id="search-container">
          <input type="text" id="searchfield" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><label class="search-placeholder">Search</label>
          <div class="cancel-search"></div>
          <ul id="search-results">

          </ul>
        </li>
      </ul>
    </div>
  </div><!-- #header -->
</div><!-- #header-wrapper -->


  <div id="wrapper">
    <div class="content">
      <div class="change" id="/changes/2016-03-15-new-webhook-actions/">
<h2 class="title">
  <a href="/changes/2016-03-15-new-webhook-actions/">New webhook event actions are coming</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    March 15, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/davidcelis.png" alt="Avatar for davidcelis" data-proofer-ignore/>
      <a href="https://github.com/davidcelis" data-proofer-ignore>davidcelis</a>
  </li>
</ul>
</div>


<p>We will soon begin introducing new <code>action</code> values for several existing webhook events. If you currently subscribe to webhooks but do not check the payload's <code>action</code> value, you may end up incorrectly processing events after this change is released. To ensure that your webhook processing is not affected by these new <code>action</code> values, <strong>you should audit your webhook processing logic by April 15th, 2016</strong>.</p>

<p>We are providing an advance notice to warn of these changes. In the future, we may continue adding new actions without providing further warning.</p>

<h3>
<a id="a-brief-overview-of-github-webhook-actions" class="anchor" href="#a-brief-overview-of-github-webhook-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>A brief overview of GitHub webhook actions</h3>

<p>Webhook events can have multiple actions. For example, the <a href="https://developer.github.com/v3/activity/events/types/#issuesevent"><code>IssuesEvent</code></a> has several possible actions. These include <code>opened</code> when the issue is created, <code>closed</code> when the issue is closed, and <code>assigned</code> when the issue is assigned to someone. Historically, we haven't added new actions to webhook events that have only one action. However, as GitHub's feature set grows, we may occasionally add new actions to existing event types. We encourage you to take some time and ensure that your application explicitly checks the action before doing any processing.</p>

<h3>
<a id="what-to-avoid-when-working-with-event-actions" class="anchor" href="#what-to-avoid-when-working-with-event-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>What to avoid when working with event actions</h3>

<p>Here's an example of functionality that <strong>will not work</strong> when attempting to process an <code>IssuesEvent</code>. In this example, the <code>process_closed</code> method will be called for any event action which is not <code>opened</code> or <code>assigned</code>. This means that the <code>process_closed</code> method will be called for events with the <code>closed</code> action, but also other events with actions other than <code>opened</code> or <code>assigned</code> that are delivered to the webhook.</p>

<pre class="highlight highlight-ruby"><code><span class="c1"># The following is not future-proof!</span>
<span class="k">case</span> <span class="n">action</span>
<span class="k">when</span> <span class="s2">"opened"</span>
  <span class="n">process_opened</span>
<span class="k">when</span> <span class="s2">"assigned"</span>
  <span class="n">process_assigned</span>
<span class="k">else</span>
  <span class="n">process_closed</span>
<span class="k">end</span>
</code></pre>


<h3>
<a id="how-to-work-with-new-event-actions" class="anchor" href="#how-to-work-with-new-event-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to work with new event actions</h3>

<p>We suggest that you explicitly check event actions and act accordingly. In this example, the <code>closed</code> action is checked first before calling the <code>process_closed</code> method. Additionally, for unknown actions, we log that something new was encountered:</p>

<pre class="highlight highlight-ruby"><code><span class="c1"># The following is recommended</span>
<span class="k">case</span> <span class="n">action</span>
<span class="k">when</span> <span class="s2">"opened"</span>
  <span class="n">process_opened</span>
<span class="k">when</span> <span class="s2">"assigned"</span>
  <span class="n">process_assigned</span>
<span class="k">when</span> <span class="s2">"closed"</span>
  <span class="n">process_closed</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Ooohh, something new from GitHub!"</span>
<span class="k">end</span>
</code></pre>


<p>We may also add new webhook event types from time to time. If your webhook is configured to "Send me <strong>everything</strong>", your code should also explicitly check for the event type in a similar way as we have done with checking for the action type above. Take a look at our <a href="https://developer.github.com/guides/best-practices-for-integrators/">integrators best practices guide</a> for more tips.</p>

<p>If you have any questions or feedback, please <a href="https://github.com/contact?form%5Bsubject%5D=New+Webhook+Actions">get in touch</a>.</p>
</div>

    </div>

    <div class="sidebar-shell">
        <h2>Recent Posts</h2>
<ul class="headlines sidebar-module">

  <li><a href="/changes/2016-04-06-deployment-and-deployment-status-enhancements/">Deployment and DeploymentStatus API enhancements preview period<br /><span class="date">April 6, 2016</span></a></li>

  <li><a href="/changes/2016-04-01-squash-api-preview/">Preview Squash Support for the Pull Request Merge API<br /><span class="date">April 1, 2016</span></a></li>

  <li><a href="/changes/2016-03-17-the-451-status-code-is-now-supported/">The 451 status code is now supported<br /><span class="date">March 17, 2016</span></a></li>

  <li><a href="/changes/2016-03-15-new-webhook-actions/">New webhook event actions are coming<br /><span class="date">March 15, 2016</span></a></li>

  <li><a href="/changes/2016-02-24-commit-reference-sha-api/">Commit Reference SHA-1 Preview Period<br /><span class="date">February 24, 2016</span></a></li>

  <li><a href="/changes/2016-02-19-source-import-preview-api/">Preview the Source Import API<br /><span class="date">February 19, 2016</span></a></li>

  <li><a href="/changes/2016-02-11-issue-locking-api/">Issue Locking and Unlocking API Preview Period<br /><span class="date">February 11, 2016</span></a></li>

  <li><a href="/changes/2016-01-05-api-enhancements-for-working-with-organization-permissions-are-now-official/">API enhancements for working with organization permissions are now official<br /><span class="date">January 5, 2016</span></a></li>

</ul>


        <div class="sidebar-module notice"><a class="rss-subscribe" href="/changes.atom">Subscribe to the RSS feed</a></div>
    </div>
  </div>

    <div id="footer" >
    <div class="lower_footer">
      <ul class="footer-cell">
        <li><a href="https://github.com/github/developer.github.com#licenses">&copy; 2016 GitHub, Inc.</a></li>
        <li><a href="https://help.github.com/terms-of-service/">Terms</a></li>
        <li><a href="https://help.github.com/privacy-policy/">Privacy</a></li>
        <li><a href="https://help.github.com/security/">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
      </ul>

      <span class="footer-cell">
        <a href="https://github.com" class="mega-octicon octicon-mark-github"></a>
      </span>

      <ul class="footer-cell">
        <li><a href="https://status.github.com/">Status</a></li>
        <li><a href="http://training.github.com/">Training</a></li>
        <li><a href="http://shop.github.com/">Shop</a></li>
        <li><a href="https://github.com/blog">Blog</a></li>
        <li><a href="https://github.com/about">About</a></li>
      </ul>
    </div>

  </div><!-- /#footer -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-37', 'github.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
